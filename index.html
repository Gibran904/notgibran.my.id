<!DOCTYPE html>
<html lang="id">
<head>
	<link rel="icon" type="image/png" href="favicon-32x32.png"
	<meta charset="utf-8"><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-57DQX32B');</script><!-- End Google Tag Manager --><meta name="google-site-verification" content="jxay_hMuTl6xzKRy3NVsp1ZWd_0hVi-vQbaOEoFCW-8" />
	<title>Game Tebak Angka 1-10000</title>
	<!-- ‚úÖ Google Analytics START --><script async src="https://www.googletagmanager.com/gtag/js?id=G-RD92SPVB7K"></script><script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-RD92SPVB7K');
  </script><!-- ‚úÖ Google Analytics END -->
	<style type="text/css">body {
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 30px;
    }
    h1 { font-size: 32px; }
    input {
      font-size: 18px;
      padding: 8px;
      width: 120px;
    }
    button {
      font-size: 18px;
      padding: 8px 16px;
      margin-left: 10px;
    }
    #result {
      font-size: 20px;
      margin-top: 20px;
    }
    #restartBtn {
      display: none;
      margin-top: 20px;
      padding: 8px 16px;
      font-size: 1em;
    }
    table {
      margin: auto;
      border-collapse: collapse;
      width: 90%;
      max-width: 600px;
      font-family: 'Segoe UI', sans-serif;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }
    th {
      background-color: #4CAF50;
      color: white;
    }
    tr:nth-child(even) {
      background-color: #f2f2f2;
    }
    tr:hover {
      background-color: #ddd;
    }
    .footer {
      margin-top: 40px;
      font-size: 14px;
      color: gray;
    }
    :root {
  --bg-color: #ffffff;
  --text-color: #000000;
}

body {
  background-color: var(--bg-color);
  color: var(--text-color);
  transition: 0.3s ease;
}

/* Dark mode */
body.dark-mode {
  --bg-color: #121212;
  --text-color: #eeeeee;
}

/* Switch UI */
.switch {
  position: fixed;
  top: 1rem;
  right: 1rem;
}
.switch input {
  display: none;
}
.slider {
  width: 50px;
  height: 24px;
  background-color: #ccc;
  border-radius: 24px;
  display: inline-block;
  position: relative;
  cursor: pointer;
}
.slider::before {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  top: 2px;
  left: 2px;
  background-color: white;
  border-radius: 50%;
  transition: 0.3s;
}
input:checked + .slider {
  background-color: #4caf50;
}
input:checked + .slider::before {
  transform: translateX(26px);
}
	</style>
</head>
<body><!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57DQX32B"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!-- End Google Tag Manager (noscript) -->
<h1>Game Tebak Angka</h1>

<p>Tebak angka dari <strong>1 sampai 10000</strong>!</p>

<p><input id="guessInput" max="10000" min="1" type="number" /><button onclick="checkGuess()">Tebak</button></p>

<p id="result"></p>

<p id="attempts"></p>

<div id="formSection" style="display:none;">
<p>Masukkan Nama:</p>
<input id="playerName" type="text" /><button onclick="submitScore()">Kirim ke Leaderboard</button></div>

<h2>üèÜ Top 10 Leaderboard</h2>

<table id="leaderboard">
	<thead>
		<tr>
			<th>Rank</th>
			<th>Nama</th>
			<th>Percobaan</th>
			<th>Waktu</th>
		</tr>
	</thead>
	<tbody>
	</tbody>
</table>

<p><button id="restartBtn" onclick="restartGame()">Main Lagi</button><script>
    let answer = Math.floor(Math.random() * 10000) + 1;
    let tries = 0;
    let win = false;

    function checkGuess() {
      const guess = parseInt(document.getElementById("guessInput").value);
      tries++;
      let resultText = "";
      let color = "";

      if (guess === answer) {
        resultText = `üéâ Selamat! Jawabannya ${answer}. Kamu benar!`;
        color = "green";
        document.getElementById("formSection").style.display = 'block';
        document.getElementById("restartBtn").style.display = 'inline-block';
        win = true;
      } else {
        const selisih = Math.abs(guess - answer);
        if (selisih <= 10) {
          resultText = "üò¨ Salah, dikit lagi!";
          color = "orange";
        } else if (guess > answer) {
          resultText = "üìà Salah, kelebihan!";
          color = "red";
        } else {
          resultText = "üìâ Salah, kekurangan!";
          color = "red";
        }
      }

      document.getElementById("result").textContent = resultText;
      document.getElementById("result").style.color = color;
      document.getElementById("attempts").textContent = `Percobaan: ${tries}`;
    }

    function submitScore() {
      if (!win) return;
      const name = document.getElementById("playerName").value;
      if (!name) return alert("Isi nama dulu!");
      const formData = new FormData();
      formData.append("nama", name);
      formData.append("percobaan", tries);

      fetch("https://script.google.com/macros/s/AKfycbxRkBI6EUY0Lf-g9Kxs1MbjOeTk3F4uw-D-FEwTh2bq7IX8lG7zXUyheNcI-oe4kv5W0w/exec", {
        method: "POST",
        body: formData
      })
      .then(res => res.text())
      .then(() => {
        alert("Berhasil dikirim!");
        fetchLeaderboard();
      });
    }

    function fetchLeaderboard() {
      fetch("https://script.google.com/macros/s/AKfycbxRkBI6EUY0Lf-g9Kxs1MbjOeTk3F4uw-D-FEwTh2bq7IX8lG7zXUyheNcI-oe4kv5W0w/exec")
        .then(res => res.json())
        .then(data => {
          const tbody = document.querySelector("#leaderboard tbody");
          tbody.innerHTML = "";
          const rows = data.slice(1).sort((a, b) => a[1] - b[1]).slice(0, 10);
          rows.forEach((row, index) => {
            const tr = document.createElement("tr");
            tr.innerHTML = `
              <td>#${index + 1}</td>
              <td>${row[0]}</td>
              <td>${row[1]}</td>
              <td>${new Date(row[2]).toLocaleString()}</td>
            `;
            tbody.appendChild(tr);
          });
        });
    }

    function restartGame() {
      answer = Math.floor(Math.random() * 10000) + 1;
      tries = 0;
      win = false;
      document.getElementById("guessInput").value = "";
      document.getElementById("result").textContent = "";
      document.getElementById("attempts").textContent = "";
      document.getElementById("formSection").style.display = 'none';
      document.getElementById("restartBtn").style.display = 'none';
    }

    fetchLeaderboard();
	</script></p>
<label class="switch">
		<input type="checkbox" id="them-toggle">
		<span class="slider"></span>
	</label>
<p class="footer">Powered by <strong>Vercel</strong>, <strong>GitHub</strong>, <strong>Cloudflare&nbsp;</strong>and <strong>Google</strong></p>
	<a
		href="https://api.whatsapp.com/send?text=Bisakah%20Anda%20mengalahkanku?%20Kalau%20ya,%20coba%20ini:%20https://notgibran.my.id" target="_blank">
		<button style="background-color: #25D366; color: white; padding: 12px 24px; border: none ; border-radius: 8px; font-size: 16px; cursor: pointer;">
			Share ke WhatsApp üí¨
		</button>
	</a>
	<script>
  const toggle = document.getElementById('theme-toggle');
  const body = document.body;

  if (localStorage.getItem('theme') === 'dark') {
    body.classList.add('dark-mode');
    toggle.checked = true;
  }

  toggle.addEventListener('change', () => {
    if (toggle.checked) {
      body.classList.add('dark-mode');
      localStorage.setItem('theme', 'dark');
    } else {
      body.classList.remove('dark-mode');
      localStorage.setItem('theme', 'light');
    }
  });
</script>
</body>
</html>
